!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).FeedbackComponent=t()}(this,(function(){"use strict";const e=[{label:"thumbs up",icon:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5" />\n        </svg>',value:1},{label:"thumbs down",icon:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018a2 2 0 01.485.06l3.76.94m-7 10v5a2 2 0 002 2h.096c.5 0 .905-.405.905-.904 0-.715.211-1.413.608-2.008L17 13V4m-7 10h2m5-10h2a2 2 0 012 2v6a2 2 0 01-2 2h-2.5" />\n            </svg>',value:0}];class t{constructor(){this.template=document.getElementById("feedback-component-config")}getData(){var e;return(null==(e=this.template)?void 0:e.dataset)||{}}getContent(e){var t;const n=null==(t=this.template)?void 0:t.content;return n?n.querySelector(e):null}}class n extends HTMLElement{connectedCallback(){this.templateConfig=new t,this.shadow=this.attachShadow({mode:"open"}),this.attachMarkup(),this.attachListeners(),this.attachStyles(),this.maybeFallBackToTemplateSlots()}maybeFallBackToTemplateSlots(){return this.shadowRoot.querySelectorAll("slot").forEach((e=>{if(e.assignedNodes().length)return;const t=this.templateConfig.getContent(`[slot="${e.name}"]`);t&&(e.innerHTML=t.outerHTML)}))}attachListeners(){this.shadow.querySelectorAll("[data-feedback-component-value]").forEach((e=>{e.addEventListener("click",(e=>{const t=this.buildEvent({value:parseInt(e.currentTarget.dataset.feedbackComponentValue,10)});this.dispatchEvent(t),this.showConfirmation()}))}))}showConfirmation(){Object.assign(this.shadow.querySelector("[data-feedback-component-cta]").style,{zIndex:"-1",opacity:"0"}),Object.assign(this.shadow.querySelector("[data-feedback-component-confirmation]").style,{zIndex:"1",opacity:"1"})}attachMarkup(){this.shadow.innerHTML=`\n      <div class="FeedbackBlock">\n        <div class="FeedbackBlock-content" data-feedback-component-cta>\n          <span class="FeedbackBlock-ctaText">\n            <slot name="cta">\n              Was this helpful?\n            </slot>\n          </span>\n\n          <ul class="FeedbackBlock-options">\n            ${this.buildOptionMarkup()}\n          </ul>\n        </div>\n\n        <div\n          class="FeedbackBlock-content FeedbackBlock-confirmationContent"\n          data-feedback-component-confirmation\n        >\n          <span class="FeedbackBlock-confirmationMessage">\n            <slot name="confirmation">\n              Thanks for your feedback!\n            </slot>\n          </span>\n        </div>\n      </div>\n    `}buildOptionMarkup(){return e.reduce(((e,t,n)=>e+`\n        <li class="FeedbackBlock-option">\n          <button\n            class="FeedbackBlock-button"\n            data-feedback-component-value="${t.value}"\n            aria-label="${t.label}"\n          >\n            <slot name="option-icon:${n}">\n              <i>\n                ${t.icon}\n              </i>\n            </slot>\n          </button>\n        </li>\n      `),"")}buildEvent(t){return new CustomEvent("feedback:interaction",{bubbles:!0,detail:{...this.templateConfig.getData(),...this.dataset,...t,options:e,instance:this}})}attachStyles(){this.style.setProperty("--feedback-component-option-count",e.length);const t=document.createElement("style");t.appendChild(document.createTextNode(".FeedbackBlock{display:inline-flex;position:relative;align-items:center;color:var(--feedback-component-font-color, #69757a);font-style:var(--feedback-component-font-style, normal);font-variant:var(--feedback-component-font-variant, normal);font-weight:var(--feedback-component-font-weight, normal);font-size:var(--feedback-component-font-size, 1.125rem);line-height:var(--feedback-component-line-height, normal);font-family:var(--feedback-component-font-family, inherit)}.FeedbackBlock ::slotted(*){display:unset!important;font:inherit}.FeedbackBlock-content{display:flex;align-items:center;width:100%;text-align:center}.FeedbackBlock-confirmationContent{position:absolute;top:0;left:0;opacity:0;z-index:-1;width:100%;height:100%}.FeedbackBlock-confirmationMessage{display:block;width:100%;text-align:center}.FeedbackBlock-ctaText{margin-right:1rem}.FeedbackBlock-options{display:grid;margin:0;padding:0;list-style:none;grid-template-columns:repeat(var(--feedback-component-option-count),1fr);grid-gap:.75rem}.FeedbackBlock-button{display:flex;align-items:center;justify-content:center;border:0;border-radius:50%;background:none;background:var(--feedback-component-button-background-color, #e8eced);cursor:pointer;width:var(--feedback-component-button-size, 2rem);height:var(--feedback-component-button-size, 2rem)}.FeedbackBlock-button+.FeedbackBlock-button{margin-left:.5rem}.FeedbackBlock-button i{display:inherit;width:var(--feedback-component-icon-size, 1rem);height:var(--feedback-component-icon-size, 1rem);color:var(--feedback-component-icon-color, #69757a)}.FeedbackBlock-button i svg{width:100%;height:100%}\n")),this.shadow.prepend(t)}}return window.customElements.get("feedback-component")||window.customElements.define("feedback-component",n),n}));
